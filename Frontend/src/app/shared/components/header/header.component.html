<header class="header">
  <div class="header-content">
    <div class="header-left">
      <h1 class="page-title">{{ title }}</h1>
    </div>

    <div class="header-right">
      <!-- Search -->
      <div class="search-box">
        <span class="material-icons search-icon">search</span>
        <input type="text" placeholder="Buscar..." class="search-input">
      </div>

      <!-- Notifications -->
      <div class="header-item notifications-wrapper">
        <button class="icon-btn" (click)="toggleNotifications()">
          <span class="material-icons">notifications</span>
          @if (unreadCount > 0) {
            <span class="badge">{{ unreadCount }}</span>
          }
        </button>

        @if (showNotifications) {
          <div class="dropdown notifications-dropdown">
          <div class="dropdown-header">
            <h3>Notificaciones</h3>
            <span class="badge-count">{{ unreadCount }} nuevas</span>
          </div>
          <div class="dropdown-body">
            @for (notification of notifications; track notification.title) {
              <div class="notification-item"
                   [class.unread]="notification.unread">
                <div class="notification-content">
                  <h4>{{ notification.title }}</h4>
                  <p>{{ notification.message }}</p>
                  <span class="notification-time">{{ notification.time }}</span>
                </div>
              </div>
            }
          </div>
          <div class="dropdown-footer">
            <a href="#" class="view-all">Ver todas las notificaciones</a>
          </div>
          </div>
        }
      </div>

      <!-- Profile -->
      <div class="header-item profile-wrapper">
        <button class="profile-btn" (click)="toggleProfile()">
          <div class="avatar">{{ user.avatar }}</div>
          <div class="profile-info">
            <span class="profile-name">{{ user.name }}</span>
            <span class="profile-role">Administrador</span>
          </div>
          <span class="material-icons">expand_more</span>
        </button>

        @if (showProfile) {
          <div class="dropdown profile-dropdown">
          <div class="dropdown-header profile-header">
            <div class="avatar-large">{{ user.avatar }}</div>
            <div class="profile-details">
              <h3>{{ user.name }}</h3>
              <p>{{ user.email }}</p>
            </div>
          </div>
          <div class="dropdown-body">
            <a href="#" class="dropdown-item">
              <span class="material-icons">person</span>
              Mi Perfil
            </a>
            <a href="#" class="dropdown-item">
              <span class="material-icons">settings</span>
              Configuración
            </a>
            <a href="#" class="dropdown-item">
              <span class="material-icons">help</span>
              Ayuda
            </a>
            <div class="dropdown-divider"></div>
            <a href="#" class="dropdown-item logout">
              <span class="material-icons">logout</span>
              Cerrar Sesión
            </a>
          </div>
          </div>
        }
      </div>
    </div>
  </div>
</header>
